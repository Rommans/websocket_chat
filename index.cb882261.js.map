{"mappings":"AAAA,MAAMA,WAAa,IAAIC,UAAU,2CACjC,IAAIC,SAEJF,WAAWG,OAAM,KACbC,QAAQC,IAAI,aACZH,SAAWI,OAAO,kBAAmB,SAGzCN,WAAWO,QAAO,KACdH,QAAQI,MAAM,iBAGlBR,WAAWS,QAAUD,IACjBJ,QAAQI,MAAM,oBAAqBA,IAGvCR,WAAWU,UAAYC,IACnB,IAAIC,EAAMC,KAAKC,MAAMH,EAAMI,MACvBC,EAAmBC,SAASC,cAAc,SAC1CC,EAAKF,SAASG,cAAc,OAChCD,EAAGE,aAAa,QAAS,uBACzBF,EAAGG,UAAS,oBACCV,EAAIV,uDACcU,EAAIW,4CACTX,EAAIY,qBAE9BR,EAAiBS,YAAYN,IAGjCF,SAASC,cAAc,QAAQQ,iBAAiB,UAAUf,IACtDA,EAAMgB,iBACN,IAAIJ,EAAUN,SAASC,cAAc,YAAYU,MACjD,GAAGL,EAAQM,OAAS,EAAE,CAClB,IAAIC,GAAO,IAAIC,MAAOC,mBAAmB,GAAI,CACzCC,QAAQ,IAGRC,EAAM,CACNhC,SAAUA,SACVqB,QAASA,EACTC,KAAMM,GAEV9B,WAAWmC,KAAKtB,KAAKuB,UAAUF,IAC/BG,WAAWd,GACXN,SAASC,cAAc,YAAYU,MAAQ,OAInD,MAAMS,WAAcd,IAChB,IAAIO,GAAO,IAAIC,MAAOC,mBAAmB,GAAI,CAAEC,QAAQ,IACnDjB,EAAmBC,SAASC,cAAc,SAC1CC,EAAKF,SAASG,cAAc,OAChCD,EAAGE,aAAa,QAAS,oBACzBF,EAAGG,UAAS,sBACGpB,sDACeqB,wCACFO,oBAE5Bd,EAAiBS,YAAYN","sources":["client/chat.js"],"sourcesContent":["const connection = new WebSocket('wss://websocket-chat-backend1.glitch.me');\r\nlet username;\r\n\r\nconnection.onopen = () => {\r\n    console.log('connected');\r\n    username = prompt('Input your name', 'User');\r\n};\r\n\r\nconnection.onclose = () => {\r\n    console.error('disconnected');\r\n};\r\n\r\nconnection.onerror = error => {\r\n    console.error('failed to connect', error);\r\n};\r\n\r\nconnection.onmessage = event => {\r\n    let obj = JSON.parse(event.data)\r\n    let messageContainer = document.querySelector('#chat');\r\n    let el = document.createElement('div');\r\n    el.setAttribute('class', 'other-message_block');\r\n    el.innerHTML = `\r\n        <label>${obj.username}:</label>\r\n        <p class=\"other-message\">${obj.message}</p>\r\n        <label class=\"time\">${obj.date}</label>\r\n    `;\r\n    messageContainer.appendChild(el);\r\n};\r\n\r\ndocument.querySelector('form').addEventListener('submit', event => {\r\n    event.preventDefault();\r\n    let message = document.querySelector('#message').value;\r\n    if(message.length > 0){\r\n        let time = new Date().toLocaleTimeString([], {\r\n            hour12: false\r\n        });\r\n    \r\n        let msg = {\r\n            username: username,\r\n            message: message,\r\n            date: time\r\n        };\r\n        connection.send(JSON.stringify(msg));\r\n        ownMessage(message)\r\n        document.querySelector('#message').value = '';\r\n    }\r\n});\r\n\r\nconst ownMessage = (message) => {\r\n    let time = new Date().toLocaleTimeString([], { hour12: false });\r\n    let messageContainer = document.querySelector('#chat');\r\n    let el = document.createElement('div');\r\n    el.setAttribute('class', 'my-message_block');\r\n    el.innerHTML = `\r\n          <label>${username}:</label>\r\n          <p class=\"my-message\">${message}</p>\r\n          <label class=\"time\">${time}</label>\r\n      `;\r\n    messageContainer.appendChild(el);\r\n}"],"names":["connection","WebSocket","username","onopen","console","log","prompt","onclose","error","onerror","onmessage","event","obj","JSON","parse","data","messageContainer","document","querySelector","el","createElement","setAttribute","innerHTML","message","date","appendChild","addEventListener","preventDefault","value","length","time","Date","toLocaleTimeString","hour12","msg","send","stringify","ownMessage"],"version":3,"file":"index.cb882261.js.map"}